# Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# Application Configuration
ENVIRONMENT=production
BUILD_TARGET=production
IMAGE_TAG=production-latest
DEBUG=false
LOG_LEVEL=WARNING

# Server Configuration
APP_PORT=8000
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker
WORKER_CONNECTIONS=1000
KEEP_ALIVE=2
MAX_REQUESTS=10000
MAX_REQUESTS_JITTER=1000

# Database Configuration
DATABASE_URL=postgresql+asyncpg://prod_user:prod_password@prod-db.internal:5432/its_camera_ai_prod
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# Redis Configuration
REDIS_URL=redis://prod-redis.internal:6379/0
REDIS_PASSWORD=production_redis_password
REDIS_POOL_SIZE=20
REDIS_MAX_CONNECTIONS=50

# Storage Configuration
MINIO_ENDPOINT=prod-minio.internal:9000
MINIO_ROOT_USER=production_minio_user
MINIO_ROOT_PASSWORD=production_minio_password
MINIO_SECURE=true

# Security Configuration
SECRET_KEY=production-secret-key-change-this-to-random-value
JWT_SECRET_KEY=production-jwt-secret-key-change-this-to-random-value
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# External Services
INFLUXDB_URL=http://prod-influxdb.internal:8086
KAFKA_BOOTSTRAP_SERVERS=prod-kafka.internal:9092

# Monitoring and Observability
SENTRY_DSN=https://production-sentry-dsn@sentry.io/project-id
PROMETHEUS_METRICS=true
JAEGER_ENABLED=true
JAEGER_AGENT_HOST=prod-jaeger.internal

# Security Headers
SECURE_HEADERS=true
CORS_ORIGINS=["https://its-camera-ai.com", "https://app.its-camera-ai.com"]
ALLOWED_HOSTS=["its-camera-ai.com", "app.its-camera-ai.com", "api.its-camera-ai.com"]

# Performance Settings
BATCH_SIZE=16
MAX_BATCH_DELAY=50
MODEL_CACHE_SIZE=1024

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/its-camera-ai.crt
SSL_KEY_PATH=/etc/ssl/private/its-camera-ai.key

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 1 * * *"  # Daily at 1 AM
BACKUP_RETENTION_DAYS=90
BACKUP_S3_BUCKET=its-camera-ai-backups
BACKUP_S3_REGION=us-east-1

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000
RATE_LIMIT_BURST=100

# Caching
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Blue-Green Deployment
DEPLOYMENT_COLOR=blue